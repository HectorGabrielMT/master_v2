<div id="modalReporte" class="fixed inset-0 z-50 hidden overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
        <div class="fixed inset-0 transition-opacity bg-slate-900 bg-opacity-60 backdrop-blur-sm" aria-hidden="true" onclick="toggleModal()"></div>

        <div class="inline-block overflow-hidden text-left align-bottom transition-all transform bg-white rounded-xl shadow-2xl sm:my-8 sm:align-middle sm:max-w-xs sm:w-full border border-indigo-100">
            
            <div class="px-4 py-3 bg-indigo-600 flex justify-between items-center">
                <h3 class="text-xs font-bold text-white tracking-wider uppercase" id="modal-title">
                    NOTIFICACIONES - {{ ccpp.id_ccpp }}
                </h3>
                <button type="button" onclick="toggleModal()" class="text-indigo-100 hover:text-white transition-colors text-2xl leading-none">&times;</button>
            </div>
            
            <div class="p-5">
                <div class="mb-4">
                    <label class="block text-[10px] font-bold uppercase tracking-tight bg-indigo-50 border border-indigo-200 text-indigo-700 text-center py-1 rounded-t-md">Año</label>
                    <select id="reporteAnio" class="w-full text-center border border-indigo-200 border-t-0 rounded-b-md text-sm py-1.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none text-slate-700">
                        {% if anos_disponibles %}
                            {% for anio_formateado in anos_disponibles %}
                                {% with anio_calendario=anio_formateado|slice:"-4:" %}
                                <option value="{{ anio_calendario }}" 
                                        {% if anio_calendario == anio_actual_real %}selected{% endif %}>
                                    {{ anio_calendario }}
                                </option>
                                {% endwith %}
                            {% endfor %}
                        {% else %}
                            <option value="{{ anio_actual_real }}" selected>{{ anio_actual_real }}</option>
                        {% endif %}
                    </select>
                </div>

                <div class="mb-4">
                    <label class="block text-[10px] font-bold uppercase tracking-tight bg-indigo-50 border border-indigo-200 text-indigo-700 text-center py-1 rounded-t-md">Período</label>
                    <select id="reportePeriodo" size="7" class="w-full border border-indigo-200 border-t-0 rounded-b-md text-[11px] focus:ring-0 overflow-y-auto custom-scrollbar text-slate-600">
                        <option value="1-12" selected class="py-1.5 px-3 hover:bg-indigo-50 cursor-pointer border-b border-indigo-50">Anual</option>
                        <option value="1-6" class="py-1.5 px-3 hover:bg-indigo-50 cursor-pointer border-b border-indigo-50">1er Semestre</option>
                        <option value="7-12" class="py-1.5 px-3 hover:bg-indigo-50 cursor-pointer border-b border-indigo-50">2do Semestre</option>
                        <option value="1-3" class="py-1.5 px-3 hover:bg-indigo-50 cursor-pointer border-b border-indigo-50">1er Trimestre</option>
                        <option value="4-6" class="py-1.5 px-3 hover:bg-indigo-50 cursor-pointer border-b border-indigo-50">2do Trimestre</option>
                        <option value="7-9" class="py-1.5 px-3 hover:bg-indigo-50 cursor-pointer border-b border-indigo-50">3er Trimestre</option>
                        <option value="10-12" class="py-1.5 px-3 hover:bg-indigo-50 cursor-pointer">4to Trimestre</option>
                    </select>
                </div>

                <div class="space-y-2 mb-6 px-1">
                    <label class="flex items-center text-[11px] text-slate-600 cursor-pointer group">
                        <input type="checkbox" id="checkRemitentes" class="mr-2 rounded border-indigo-300 text-indigo-600 focus:ring-indigo-500 h-3.5 w-3.5 transition-all" checked>
                        <span class="group-hover:text-indigo-700">Incluir remitente/s</span>
                    </label>
                    <label class="flex items-center text-[11px] text-slate-600 cursor-pointer group">
                        <input type="checkbox" id="checkRespuesta" class="mr-2 rounded border-indigo-300 text-indigo-600 focus:ring-indigo-500 h-3.5 w-3.5 transition-all" checked>
                        <span class="group-hover:text-indigo-700">Incluir respuesta</span>
                    </label>
                </div>

                <button type="button" onclick="generarPDF()" 
                        class="w-full py-2.5 text-xs font-bold text-white rounded-lg shadow-lg bg-indigo-600 hover:bg-indigo-700 active:transform active:scale-95 transition-all flex items-center justify-center gap-2">
                    <span>Exportar</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    /* Estilización opcional para el scroll del selector de período */
    .custom-scrollbar::-webkit-scrollbar {
        width: 4px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
        background: #f1f1f1;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #c7d2fe;
        border-radius: 10px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #818cf8;
    }
</style>



